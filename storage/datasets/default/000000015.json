{
  "url": "https://apify.com/templates/python-crawlee-beautifulsoup",
  "title": "Crawlee + BeautifulSoup · Template · Apify",
  "content": "![File: python.svg](https://apify.com/img/template-icons/python.svg)\n![File: crawlee.svg](https://apify.com/img/template-icons/crawlee.svg)\n![File: beautifulsoup.svg](https://apify.com/img/template-icons/beautifulsoup.svg)\n![File: python.svg](https://apify.com/img/template-icons/python.svg)\n![File: beautifulsoup.svg](https://apify.com/img/template-icons/beautifulsoup.svg)\n![File: python.svg](https://apify.com/img/template-icons/python.svg)\n![File: beautifulsoup.svg](https://apify.com/img/template-icons/beautifulsoup.svg)\n![File: python.svg](https://apify.com/img/template-icons/python.svg)\n![File: playwright.svg](https://apify.com/img/template-icons/playwright.svg)\n![File: python.svg](https://apify.com/img/template-icons/python.svg)\n![File: selenium.svg](https://apify.com/img/template-icons/selenium.svg)\n![File: python.svg](https://apify.com/img/template-icons/python.svg)\n![File: python.svg](https://apify.com/img/template-icons/python.svg)\n![Apify logo (File: favicon.svg)](https://apify.com/img/favicon.svg)\n![GDPR image (File: GDPR_a807ac9a_ba0683f740.svg)](https://cdn-cms.apify.com/GDPR_a807ac9a_ba0683f740.svg)\n![SOC2 image (File: SOC_dc6cf5ae_f7999d700f.svg)](https://cdn-cms.apify.com/SOC_dc6cf5ae_f7999d700f.svg)\n![GetApp Apify user reviews image (File: Get_App_1f4079a540.png)](https://cdn-cms.apify.com/Get_App_1f4079a540.png)\n![Software Advice Apify reviews image (File: Softwareadvice_88026ee6c2.png)](https://cdn-cms.apify.com/Softwareadvice_88026ee6c2.png)\n![Capterra Apify user reviews image (File: Capterra_ce83db3070.png)](https://cdn-cms.apify.com/Capterra_ce83db3070.png)\n![G2 Apify user reviews image (File: G2_d80d60f2f8.png)](https://cdn-cms.apify.com/G2_d80d60f2f8.png)\n![TrustRadius Apify user reviews image (File: Trust_Radius_7ca0e0bdad.png)](https://cdn-cms.apify.com/Trust_Radius_7ca0e0bdad.png)\n![Crozdesk Apify user reviews image (File: Crozdesk_1d12ceb040.png)](https://cdn-cms.apify.com/Crozdesk_1d12ceb040.png)\n\nSkip to content\n\n[](/)\n\n[Get started](https://console.apify.com/sign-up)[Log in](https://console.apify.com/sign-in)\n\n  * Product\n\nBack\n\n[Start here!Get data with ready-made web scrapers for popular websitesBrowse 4,000+ Actors](/store)\n\nThe Apify platform\n\n    * [Apify StorePre-built web scraping tools](/store)\n    * [ActorsBuild and run serverless programs](/actors)\n    * [IntegrationsConnect with apps and services](/integrations)\n    * [StorageStore results for web scrapers](/storage)\n\nAnti-blocking\n\n    * [Anti-blockingScrape without getting blocked](/anti-blocking)\n    * [ProxyRotate scraper IP addresses](/proxy)\n\nOpen source\n\n    * [CrawleeWeb scraping and crawling library](https://crawlee.dev/)\n\n  * Solutions\n\nBack\n\nWeb data for\n\n    * [Enterprise](/enterprise)\n    * [Startups](/resources/startups)\n    * [Universities](/resources/universities)\n    * [Nonprofits](/resources/nonprofits)\n\nUse cases\n\n    * [Data for generative AI](/data-for-generative-ai)\n    * [Lead generation](/use-cases/lead-generation)\n    * [Market research](/use-cases/market-research)\n    * [Sentiment analysis](/use-cases/sentiment-analysis)\n    * [View more →](/use-cases)\n\nConsulting\n\n    * [Apify Professional Services](/professional-services)\n    * [Apify Partners](/partners)\n\n  * Developers\n\nBack\n\n    * [DocumentationFull reference for the Apify platform](https://docs.apify.com/)\n\nGet started\n\n    * [Web scraping academyCourses for beginners and experts](https://docs.apify.com/academy)\n    * [Code templatesPython, JavaScript, and TypeScript](/templates)\n    * [Deploy to ApifyWith CLI or GitHub integration](https://docs.apify.com/platform/actors/development/deployment)\n    * [Monetize your codePublish your scrapers and get paid](https://apify.com/partners/actor-developers)\n\nLearn\n\n    * [API reference](https://docs.apify.com/api)\n    * [CLI](https://docs.apify.com/cli/)\n    * [SDK](https://docs.apify.com/sdk)\n    * [Crawlee](https://crawlee.dev/)\n\n[Apify open source fair shareWe will support and reward every open-source project on Apify StoreJoin now](/partners/open-source-fair-share)\n\n  * Resources\n\nBack\n\n    * [Help and supportAdvice and answers about Apify](https://help.apify.com/en/)\n    * [Submit your ideasTell us the Actors you want](/ideas)\n    * [ChangelogSee what’s new on Apify](/change-log)\n    * [Customer storiesFind out how others use Apify](/success-stories)\n\nCompany\n\n    * [About Apify](/about)\n    * [Contact us](/contact)\n    * [Blog](https://blog.apify.com/)\n    * [Apify Partners](/partners)\n    * [Affiliate Program](/partners/affiliate)\n    * [JobsWe're hiring!](/jobs)\n\n[Join our DiscordTalk to scraping experts](https://discord.com/invite/jyEM2PRvMU)\n\n  * [Pricing](/pricing)\n\n  * [Contact sales](/contact-sales)\n\n\n\n\n[Contact sales](/contact-sales)[Log in](https://console.apify.com/sign-in)\n\n[Get started](https://console.apify.com/sign-up)\n\n[Back to template gallery](/templates)\n\n# Crawlee + BeautifulSoup\n\nCrawl and scrape websites using Crawlee and BeautifulSoup. Start from a given start URLs, and store results to Apify dataset.\n\nLanguage\n\npython\n\nTools\n\ncrawlee\n\nbeautifulsoup\n\nUse cases\n\nStarter\n\nWeb scraping\n\nFeatures\n\n[Input schema](https://docs.apify.com/platform/actors/development/actor-definition/input-schema)\n\n[Run on Apify](https://console.apify.com/actors/templates?selectedTemplate=python-crawlee-beautifulsoup)Use locally\n\nsrc/main.py\n\nsrc/__main__.py\n    \n    \n    1\"\"\"This module defines the main entry point for the Apify Actor.\n    2\n    3Feel free to modify this file to suit your specific needs.\n    4\n    5To build Apify Actors, utilize the Apify SDK toolkit, read more at the official documentation:\n    6https://docs.apify.com/sdk/python\n    7\"\"\"\n    8\n    9from apify import Actor\n    10from crawlee.crawlers import BeautifulSoupCrawler, BeautifulSoupCrawlingContext\n    11\n    12\n    13async def main() -> None:\n    14    \"\"\"Main entry point for the Apify Actor.\n    15\n    16    This coroutine is executed using `asyncio.run()`, so it must remain an asynchronous function for proper execution.\n    17    Asynchronous execution is required for communication with Apify platform, and it also enhances performance in\n    18    the field of web scraping significantly.\n    19    \"\"\"\n    20    # Enter the context of the Actor.\n    21    async with Actor:\n    22        # Retrieve the Actor input, and use default values if not provided.\n    23        actor_input = await Actor.get_input() or {}\n    24        start_urls = [\n    25            url.get('url')\n    26            for url in actor_input.get(\n    27                'start_urls',\n    28                [{'url': 'https://apify.com'}],\n    29            )\n    30        ]\n    31\n    32        # Exit if no start URLs are provided.\n    33        if not start_urls:\n    34            Actor.log.info('No start URLs specified in Actor input, exiting...')\n    35            await Actor.exit()\n    36\n    37        # Create a crawler.\n    38        crawler = BeautifulSoupCrawler(\n    39            # Limit the crawl to max requests. Remove or increase it for crawling all links.\n    40            max_requests_per_crawl=50,\n    41        )\n    42\n    43        # Define a request handler, which will be called for every request.\n    44        @crawler.router.default_handler\n    45        async def request_handler(context: BeautifulSoupCrawlingContext) -> None:\n    46            url = context.request.url\n    47            Actor.log.info(f'Scraping {url}...')\n    48\n    49            # Extract the desired data.\n    50            data = {\n    51                'url': context.request.url,\n    52                'title': context.soup.title.string if context.soup.title else None,\n    53                'h1s': [h1.text for h1 in context.soup.find_all('h1')],\n    54                'h2s': [h2.text for h2 in context.soup.find_all('h2')],\n    55                'h3s': [h3.text for h3 in context.soup.find_all('h3')],\n    56            }\n    57\n    58            # Store the extracted data to the default dataset.\n    59            await context.push_data(data)\n    60\n    61            # Enqueue additional links found on the current page.\n    62            await context.enqueue_links()\n    63\n    64        # Run the crawler with the starting requests.\n    65        await crawler.run(start_urls)\n\n## Python Crawlee with BeautifulSoup template\n\nA template for [web scraping](https://apify.com/web-scraping) data from websites starting from provided URLs using Python. The starting URLs are passed through the Actor's input schema, defined by the [input schema](https://docs.apify.com/platform/actors/development/input-schema). The template uses [Crawlee for Python](https://crawlee.dev/python) for efficient web crawling, handling each request through a user-defined handler that uses [Beautiful Soup](https://pypi.org/project/beautifulsoup4/) to extract data from the page. Enqueued URLs are managed in the [request queue](https://crawlee.dev/python/api/class/RequestQueue), and the extracted data is saved in a [dataset](https://crawlee.dev/python/api/class/Dataset) for easy access.\n\n## Included features\n\n  * **[Apify SDK](https://docs.apify.com/sdk/python/)** \\- a toolkit for building Apify [Actors](https://apify.com/actors) in Python.\n  * **[Crawlee for Python](https://crawlee.dev/python/)** \\- a web scraping and browser automation library.\n  * **[Input schema](https://docs.apify.com/platform/actors/development/input-schema)** \\- define and validate a schema for your Actor's input.\n  * **[Request queue](https://crawlee.dev/python/api/class/RequestQueue)** \\- manage the URLs you want to scrape in a queue.\n  * **[Dataset](https://crawlee.dev/python/api/class/Dataset)** \\- store and access structured data extracted from web pages.\n  * **[Beautiful Soup](https://pypi.org/project/beautifulsoup4/)** \\- a library for pulling data out of HTML and XML files.\n\n\n\n## Resources\n\n  * [Video introduction to Python SDK](https://www.youtube.com/watch?v=C8DmvJQS3jk)\n  * [Webinar introducing to Crawlee for Python](https://www.youtube.com/live/ip8Ii0eLfRY)\n  * [Apify Python SDK documentation](https://docs.apify.com/sdk/python/)\n  * [Crawlee for Python documentation](https://crawlee.dev/python/docs/quick-start)\n  * [Python tutorials in Academy](https://docs.apify.com/academy/python)\n  * [Integration with Make, GitHub, Zapier, Google Drive, and other apps](https://apify.com/integrations)\n  * [Video guide on getting scraped data using Apify API](https://www.youtube.com/watch?v=ViYYDHSBAKM)\n  * A short guide on how to build web scrapers using code templates:\n\n\n\n## Related templates\n\n[**Start with Python** Scrape single page with provided URL with HTTPX and extract data from page's HTML with Beautiful Soup.](/templates/python-start)[**BeautifulSoup** Example of a web scraper that uses Python HTTPX to scrape HTML from URLs provided on input, parses it using BeautifulSoup and saves results to storage.](/templates/python-beautifulsoup)[**Playwright + Chrome** Crawler example that uses headless Chrome driven by Playwright to scrape a website. Headless browsers render JavaScript and can help when getting blocked.](/templates/python-playwright)[**Selenium + Chrome** Scraper example built with Selenium and headless Chrome browser to scrape a website and save the results to storage. A popular alternative to Playwright.](/templates/python-selenium)[**Empty Python project** Empty template with basic structure for the Actor with Apify SDK that allows you to easily add your own functionality.](/templates/python-empty)[**Standby Python project** Template with basic structure for an Actor using Standby mode that allows you to easily add your own functionality.](/templates/python-standby)\n\n## Already have a solution in mind?\n\nSign up for a free Apify account and deploy your code to the platform in just a few minutes! If you want a head start without coding it yourself, browse our Store of existing solutions.\n\n[Import your code](https://console.apify.com/actors/new)[Go to store](/store)\n\nProduct\n\n  * [Apify Store](/store)\n\n  * [Integrations](/integrations)\n\n  * [Proxy](/proxy)\n\n  * [Crawlee](https://crawlee.dev/)\n\n\n\n\nDevelopers\n\n  * [Documentation](https://docs.apify.com/)\n\n  * [Code templates](/templates)\n\n  * [Deploy to Apify](https://docs.apify.com/platform/actors/development/deployment)\n\n  * [API reference](https://docs.apify.com/api)\n\n  * [Get paid on Apify](/partners/actor-developers)\n\n\n\n\nConsulting\n\n  * [Professional Services](/professional-services)\n\n  * [Apify Partners](/partners)\n\n\n\n\nSupport\n\n  * [Help & Support](https://help.apify.com/en/)\n\n  * [Submit your ideas](/ideas)\n\n  * [Forum](https://discord.apify.com/)\n\n\n\n\nCompany\n\n  * [About Apify](/about)\n\n  * [Contact us](/contact)\n\n  * [Events](https://lu.ma/apify)\n\n  * [Blog](https://blog.apify.com/)\n\n  * [Become an affiliate](/partners/affiliate)\n\n  * [Customer stories](/success-stories)\n\n  * [Changelog](/change-log)\n\n  * [JobsWe're hiring!](/jobs)\n\n\n\n\n[](/)\n\nSocials\n\n  * [](https://www.linkedin.com/company/apifytech/)\n  * [](https://x.com/apify)\n  * [](https://github.com/apify)\n  * [](https://www.youtube.com/apify)\n  * [](https://discord.com/invite/jyEM2PRvMU)\n  * [](https://www.tiktok.com/@apifytech)\n\n\n\nSecurity\n\n  * [](https://docs.apify.com/legal/gdpr-information)\n  * [](https://trust.apify.com/)\n\n\n\nReviews\n\n  * [](https://www.getapp.com/business-intelligence-analytics-software/a/apify/)\n  * [](https://www.softwareadvice.com/data-extraction/apify-profile/)\n  * [](https://www.capterra.com/p/150854/Apify/)\n  * [](https://www.g2.com/products/apify/reviews)\n  * [](https://www.trustradius.com/products/apify/reviews)\n  * [](https://crozdesk.com/software/apify)\n\n\n\n[Loading status...](https://status.apify.com/)\n\n[Terms of Use](https://docs.apify.com/legal/general-terms-and-conditions)\n\n[Privacy Policy](https://docs.apify.com/legal/privacy-policy)\n\n[Cookie Policy](https://docs.apify.com/legal/cookie-policy)\n\nCookie settings\n\n© 2025 Apify\n"
}